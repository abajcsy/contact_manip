function M = two_link_inertia_matrix(I1x,I2x,l1,l2,m1,m2,th1,th2)
%TWO_LINK_INERTIA_MATRIX
%    M = TWO_LINK_INERTIA_MATRIX(I1X,I2X,L1,L2,M1,M2,TH1,TH2)

%    This function was generated by the Symbolic Math Toolbox version 8.0.
%    10-Mar-2018 00:14:29

t2 = cos(th1);
t3 = sin(th1);
t5 = t2-1.0;
t6 = l1.*t5;
t7 = l1.*t2.*(1.0./2.0);
t8 = t6-t7;
t15 = l1.*t3;
t4 = -t15-t3.*t8+l1.*t2.*t3.*(1.0./2.0);
t9 = l1.*t2+t2.*t8+l1.*t3.^2.*(1.0./2.0);
t10 = cos(th2);
t11 = sin(th2);
t12 = t2.*t11;
t13 = t3.*t10;
t14 = t12+t13;
t16 = l1+l2;
t17 = l2.*(1.0./2.0);
t18 = l1+t17;
t19 = t2.*t10;
t23 = t3.*t11;
t20 = t19-t23;
t21 = t10-1.0;
t24 = t14.*t18;
t25 = t2.*t11.*t16;
t26 = t3.*t16.*t21;
t27 = t15-t24+t25+t26;
t28 = t18.*t20;
t29 = t3.*t11.*t16;
t30 = t2.*t16.*t21;
t31 = t6-t28-t29+t30;
t40 = l1.*t14;
t41 = t20.*t27;
t42 = t14.*t31;
t22 = t40-t41+t42;
t33 = l1.*t20;
t34 = t14.*t27;
t35 = t20.*t31;
t32 = t33+t34+t35;
t36 = t10.*t18;
t45 = t16.*t21;
t37 = t36-t45;
t38 = t11.*t16;
t43 = t11.*t18;
t39 = t38-t43;
t44 = t11.*t39;
t46 = t10.*t16;
t53 = t10.*t37;
t47 = t44+t46-t53;
t48 = m2.*t32.*t47;
t49 = t11.*t37;
t50 = t10.*t39;
t51 = -t38+t49+t50;
t52 = I2x+t48-m2.*t22.*t51;
M = reshape([I1x+I2x+m1.*t4.^2+m1.*t9.^2+m2.*t22.^2+m2.*t32.^2,t52,t52,I2x+m2.*t47.^2+m2.*t51.^2],[2,2]);
